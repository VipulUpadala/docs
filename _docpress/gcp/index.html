
<div class="doc-layout">
  <div class="toggle menu-toggle js-menu-toggle"></div>
  <ul class="menu toc-menu">
    <li class="menu-item -level-0 -parent">
      <ul class="submenu">
        <li class="menu-item -level-1"><a class="link title  link-index" href="index.html">Tide</a>
        </li>
        <li class="menu-item -level-1 -parent"><a class="link title  link-installation" href="installation/index.html">Installation</a>
          <ul class="submenu">
            <li class="menu-item -level-2"><a class="link title  link-installationprerequisites" href="installation/prerequisites.html">Prerequisites</a>
            </li>
            <li class="menu-item -level-2"><a class="link title  link-installationcloning" href="installation/cloning.html">Cloning</a>
            </li>
            <li class="menu-item -level-2"><a class="link title  link-installationsetup" href="installation/setup.html">Setup</a>
            </li>
          </ul>
        </li>
        <li class="menu-item -level-1 -parent"><a class="link title  link-services" href="services/index.html">Services</a>
          <ul class="submenu">
            <li class="menu-item -level-2"><a class="link title  link-servicesapi" href="services/api.html">API</a>
            </li>
            <li class="menu-item -level-2"><a class="link title  link-servicessync-server" href="services/sync-server.html">Sync Server</a>
            </li>
            <li class="menu-item -level-2"><a class="link title  link-servicesphpcs-server" href="services/phpcs-server.html">PHPCS Server</a>
            </li>
            <li class="menu-item -level-2"><a class="link title  link-serviceslighthouse-server" href="services/lighthouse-server.html">Lighthouse Server</a>
            </li>
          </ul>
        </li>
        <li class="menu-item -level-1 -parent"><a class="link title -active link-gcp" href="gcp/index.html">Google Cloud Platform</a>
          <ul class="headings heading-list">
            <li class="heading-item -depth-2"><a class="hlink link-prerequisites" href="#prerequisites">Prerequisites</a>
            </li>
            <li class="heading-item -depth-2"><a class="hlink link-service-account" href="#service-account">Service Account</a>
            </li>
            <li class="heading-item -depth-2"><a class="hlink link-environment-variables" href="#environment-variables">Environment Variables</a>
            </li>
          </ul>
          <ul class="submenu">
            <li class="menu-item -level-2"><a class="link title  link-gcpgoogle-cloud-storage" href="gcp/google-cloud-storage.html">Google Cloud Storage</a>
            </li>
            <li class="menu-item -level-2"><a class="link title  link-gcpgoogle-cloud-firestore" href="gcp/google-cloud-firestore.html">Google Cloud Firestore</a>
            </li>
            <li class="menu-item -level-2"><a class="link title  link-gcpgoogle-cloud-sql" href="gcp/google-cloud-sql.html">Google Cloud SQL</a>
            </li>
            <li class="menu-item -level-2"><a class="link title  link-gcpgoogle-cloud-memorystore" href="gcp/google-cloud-memorystore.html">Google Cloud Memorystore</a>
            </li>
            <li class="menu-item -level-2"><a class="link title  link-gcpgoogle-app-engine" href="gcp/google-app-engine.html">Google App Engine</a>
            </li>
            <li class="menu-item -level-2"><a class="link title  link-gcpgoogle-kubernetes-engine" href="gcp/google-kubernetes-engine.html">Google Kubernetes Engine</a>
            </li>
          </ul>
        </li>
        <li class="menu-item -level-1"><a class="link title  link-aws" href="aws/index.html">Amazon Web Services</a>
        </li>
        <li class="menu-item -level-1 -parent"><span class="title">Important Links</span>
          <ul class="submenu">
            <li class="menu-item -level-2"><a class="link title  link-help" href="help.html">Help</a>
            </li>
            <li class="menu-item -level-2"><a class="link title  link-local-development" href="local-development.html">Local Development</a>
            </li>
            <li class="menu-item -level-2"><a class="link title  link-contributing" href="contributing.html">Contributing</a>
            </li>
            <li class="menu-item -level-2"><a class="link title  link-code-of-conduct" href="code-of-conduct.html">Code of Conduct</a>
            </li>
            <li class="menu-item -level-2"><a class="link title  link-roadmap" href="roadmap.html">Roadmap</a>
            </li>
            <li class="menu-item -level-2"><a class="link title  link-sponsors" href="sponsors.html">Sponsors</a>
            </li>
            <li class="menu-item -level-2"><a class="link title  link-license" href="license.html">License</a>
            </li>
            <li class="menu-item -level-2"><a class="link title  link-search" href="search.html">API Search</a>
            </li>
          </ul>
        </li>
        <li class="menu-item -level-1"><a class="link title  link-404" href="404.html">404</a>
        </li>
      </ul>
    </li>
  </ul>
  <div class="body page-gcp">
    <div class="header-nav">
      <div class="right"><a class="iconlink" href="https://github.com/wptide/docs" data-title="wptide/docs" title="GitHub"><span class="icon -github"></span></a><a class="iconlink" href="https://make.wordpress.org/tide/" data-title="make.wordpress.org/tide" title="WordPress"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 1000"><path d="M10 500a490 490 0 1 0 980 0 490 490 0 0 0-980 0zm38 0c0-66 14-128 39-184l216 591A452 452 0 0 1 48 500zm452 452c-44 0-87-6-128-18l136-394 139 380 3 7c-47 16-97 25-150 25zm366-460a427 427 0 0 0 31-209 450 450 0 0 1-170 608l139-399zm-98-140c17 30 37 69 37 125 0 39-11 87-34 146l-45 151-164-486c28-1 52-4 52-4 24-3 22-39-3-38 0 0-73 6-120 6-45 0-119-6-119-6-25-1-28 36-3 38l47 4 71 193-99 297-165-490c27-1 52-4 52-4 24-3 21-39-3-38 0 0-73 6-121 6h-29a452 452 0 0 1 683-85l-5-1c-45 0-76 39-76 80 0 38 21 69 44 106z"/></svg></a></div>
    </div>
    <div class="markdown-body"><h1 id="google-cloud-platform">Google Cloud Platform</h1>
<p>If you are going to use any GCP resources for local development or plan to deploy Tide to the cloud, then you will have to install some prerequisites and get everything properly setup first.</p>
<h2 id="prerequisites">Prerequisites</h2>
<ul>
<li>Create a new Cloud Project using the <a href="https://console.cloud.google.com/">Cloud Console</a></li>
<li>Enable Billing on that project</li>
<li>Enable the <a href="https://console.cloud.google.com/flows/enableapi?apiid=sqladmin">Cloud SQL API</a></li>
<li>Enable <a href="https://console.cloud.google.com/appengine">App Engine</a></li>
<li>Create a <code>service-account.json</code></li>
<li>Install <a href="https://cloud.google.com/sdk/">Google Cloud SDK</a></li>
<li>Install <a href="https://cloud.google.com/storage/docs/gsutil_install"><code>gsutil</code></a></li>
</ul>
<h2 id="service-account">Service Account</h2>
<p>Go to the <a href="https://console.cloud.google.com/apis/credentials/">Credentials</a> section of your project in the Console. Click <strong>Create credentials</strong> and then click <strong>Service account key</strong>. For the Service account, select <strong>App Engine app default service account</strong>. Then click <strong>Create</strong> to generate and download the JSON service account key file to your local machine. Save the file as <code>service-account.json</code> in the the projects root directory. We will use this file to connect to Google Cloud Platform services and API&apos;s like Cloud Storage and Cloud SQL.</p>
<p><em>If <strong>App Engine app default service account</strong> is missing from the list of service accounts, then you haven&apos;t activated App Engine for your project or it is still initializing.</em></p>
<p>Deploying to GCP is optional and not required for local development. In this
section we&apos;ve included some of the basic steps required to get setup on GCP.</p>
<h2 id="environment-variables">Environment Variables</h2>
<p>You are required to create an <code>.env.gcp</code> file in the project root. You should also add the correct values to the variables in the <code>.env</code> file only if you plan to deploy or test real GCP resources. However, the <code>.env.gcp</code> file makes deploying services to GCP a lot easier, since the <code>.env.gcp</code> file will override values in the <code>.env</code> file to update any YAML deployment files, but not environment variables.</p>
<p>These three variables are required for both local development and deployments to GCP.</p>
<table>
<thead>
<tr>
<th style="text-align:left">Variable</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>GCP_PROJECT</code></td>
<td style="text-align:left">The unique ID of you Google project. Default is <code>tide-local</code>. <em>Note: you must update this value if you plan to use <strong>any</strong> GCP resources, for purely local development the default value will work as-is.</em></td>
</tr>
<tr>
<td style="text-align:left"><code>GCP_REGION</code></td>
<td style="text-align:left">The <a href="https://cloud.google.com/compute/docs/regions-zones/">region</a> where all your resources will be created. For example, <code>us-west1</code>.</td>
</tr>
<tr>
<td style="text-align:left"><code>GCP_ZONE</code></td>
<td style="text-align:left">The preferred <a href="https://cloud.google.com/compute/docs/regions-zones/">zone</a> in your region that resources will be created, For example, <code>us-west1-a</code>.</td>
</tr>
</tbody>
</table>
<p><em>Remember to add the region you end up using during the <code>gcloud app create</code> step on the <a href="google-app-engine">Google App Engine</a> page or you&apos;ll be troubleshooting the reason things are not working for hours.</em></p>

    </div>
    <div class="footer-nav">
      <div class="left"><a href="../services/lighthouse-server.html"><span class="title">Lighthouse Server</span></a></div>
      <div class="right"><a href="../gcp/google-cloud-storage.html"><span class="label">Next: </span><span class="title">Google Cloud Storage</span></a></div>
    </div>
  </div>
</div>